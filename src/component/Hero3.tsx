import { useEffect, useRef } from "react";
import gsap from "gsap";
import { ScrollTrigger } from "gsap/ScrollTrigger";
import rect from "../assets/rect.png";
import TextReveal from "./TextReveal";
import HowItWorks from "./HowItWorks";
import CardStack from "./StackingCards";

gsap.registerPlugin(ScrollTrigger);

const features = [
  { text: "Asset Due-Diligence", x: "-45%", y: "0%" },
  { text: "Asset Documents", x: "-35%", y: "25%" },
  { text: "Asset management", x: "-45%", y: "50%" },
  { text: "Transparency", x: "-35%", y: "75%" },
  { text: "Monthly Rental Income", x: "145%", y: "0%" },
  { text: "Instant Liquidity", x: "135%", y: "25%" },
  { text: "Inflation Hedge", x: "145%", y: "50%" },
  { text: "Asset Diversification", x: "135%", y: "75%" },
];

const Hero3 = () => {
  const cardRefs =  useRef<(HTMLDivElement | null)[]>([]);

  useEffect(() => {
    cardRefs.current.forEach((el, i) => {
      if (el) {
        gsap.fromTo(
          el,
          { opacity: 0, scale: 0.5 },
          {
            opacity: 1,
            scale: 1,
            duration: 0.6,
            delay: i * 0.1,
            ease: "back.out(1.7)",
            scrollTrigger: {
              trigger: el,
              start: "top 80%",
              toggleActions: "play none none none",
            },
          }
        );
      }
    });
  }, []);

  return (
    <div className="space-y-7">
      <div className="text-center">
        <p className="text-sm font-medium text-neutral-500">
          Ryzer.app is at the forefront of BlockChain Technology, bringing
          advanced models to boost your investments
        </p>
      </div>
      <div>
        <div className="flex justify-center">
          <img src="https://ryzer.app/wp-content/uploads/2024/09/x39_3.svg"></img>
        </div>
        {/* <svg xmlns="http://www.w3.org/2000/svg" width="60" height="82" viewBox="0 0 60 82" fill="none"><path d="M49.8889 52.3549C49.0242 54.8549 48.9007 57.6049 47.5418 59.7299C45.3183 63.4799 38.5242 66.1049 30.1242 79.1049C29.7536 79.7299 30.1242 80.6049 30.8654 80.6049H31.1124C31.7301 80.8549 32.7183 80.7299 33.0889 80.4799C34.0771 79.9799 34.6948 79.1049 35.3124 78.1049C42.2301 68.1049 47.6654 66.3549 49.8889 62.2299C51.2477 59.7299 51.3713 56.8549 52.1124 54.1049C52.6065 52.4799 53.3477 50.8549 53.7183 49.2299C54.583 45.8549 53.4713 44.2299 53.4713 44.1049C52.236 40.1049 47.9124 41.2299 46.3065 39.7299C45.4418 38.9799 45.0713 37.3549 42.6007 37.1049C42.6007 36.4799 42.4771 35.7299 42.3536 35.2299C40.5007 25.9799 33.9536 22.7299 30.0007 24.3549C30.6183 19.2299 30.9889 13.7299 30.8654 8.35486C30.8654 6.47986 30.6183 4.35486 29.5065 2.60486C28.3948 0.729858 25.8007 -0.520142 23.7007 0.604858C20.6124 2.22986 20.8595 6.35486 20.2418 23.4799C20.1183 24.3549 19.9948 25.2299 19.8712 26.1049L18.883 9.97986C18.7595 8.72986 18.636 6.60486 16.783 5.60486C15.3007 4.85486 13.4477 5.22986 12.2124 6.47986C10.1124 8.60486 9.98889 10.4799 10.1124 13.6049C10.236 17.4799 10.6065 29.1049 11.1007 33.2299C8.50654 24.3549 9.12419 20.6049 7.8889 18.2299C7.14772 16.8549 5.41831 15.7299 3.68889 16.1049C1.95948 16.4799 1.21831 18.2299 0.847718 19.8549C0.600659 21.1049 0.724188 22.3549 0.847718 23.6049C3.93595 62.9799 6.15948 61.7299 6.6536 70.6049C6.90066 73.9799 6.6536 77.8549 9.37125 80.1049C9.61831 80.3549 9.86537 80.6049 10.1124 80.9799C10.9771 81.8549 12.336 80.6049 11.4712 79.7299C9.00066 77.1049 9.37125 75.3549 9.49478 71.9799C9.61831 68.7299 8.25948 68.4799 6.77713 54.9799C6.53007 52.3549 6.15948 49.7299 5.66537 46.9799C12.0889 48.1049 18.5124 47.2299 23.9477 44.8549C25.0595 44.3549 24.3183 42.6049 23.2065 43.1049C17.6477 45.4799 11.2242 46.1049 5.29478 44.9799C4.30654 40.1049 3.93595 34.9799 3.56537 29.9799C2.94772 20.9799 2.57713 20.7299 2.94772 19.4799C3.07125 18.8549 3.56537 18.1049 4.18301 17.9799C4.92419 17.7299 5.7889 18.4799 6.28301 19.2299C6.77713 20.2299 6.90066 21.3549 7.02419 22.6049C7.64184 27.7299 8.7536 32.7299 10.483 37.6049C10.7301 38.2299 11.2242 38.6049 11.8418 38.6049C14.3124 38.4799 13.4477 34.3549 13.3242 32.1049C12.9536 25.1049 12.9536 21.8549 12.4595 13.6049C12.336 12.3549 12.2124 9.22986 13.4477 7.97986C14.0654 7.35486 15.0536 6.97986 15.9183 7.47986C16.783 7.97986 16.9065 9.10486 17.0301 10.3549L18.7595 33.8549C18.883 34.9799 20.3654 34.9799 20.6124 33.9799C25.4301 10.7299 21.4771 4.22986 24.8124 2.47986C25.9242 1.85486 27.5301 2.72986 28.2712 3.85486C29.136 5.22986 29.2595 6.97986 29.2595 8.60486C29.5065 17.9799 28.0242 25.4799 28.2712 26.2299C25.6771 30.6049 26.6654 38.6049 28.8889 37.3549C29.383 37.1049 29.5065 36.4799 29.2595 36.1049C27.7771 33.6049 29.136 27.7299 30.2477 26.7299C31.3595 25.7299 33.0889 25.9799 34.3242 26.4799C36.6713 27.3549 38.6477 29.6049 39.7595 32.6049C36.6713 32.9799 36.1771 36.9799 38.0301 39.6049C35.8065 38.9799 34.9418 36.4799 34.2007 34.2299C34.0771 33.9799 33.8301 33.7299 33.583 33.6049C33.0889 33.4799 33.0889 33.2299 32.2242 32.3549C31.3595 31.4799 30.0007 32.7299 30.8654 33.6049C31.6065 34.3549 31.9771 34.8549 32.5948 35.2299C34.0771 39.6049 35.3124 39.9799 35.5595 40.3549C35.3124 41.4799 35.5595 42.7299 35.8065 43.9799C30.2477 45.2299 25.4301 48.2299 21.6007 52.8549C20.8595 53.8549 22.2183 54.9799 22.9595 54.1049C26.6654 49.7299 31.1124 46.9799 36.3007 45.8549C37.1654 48.7299 36.6713 48.2299 37.6595 49.7299C38.2771 50.6049 38.4007 51.2299 39.2654 51.8549C39.883 52.9799 40.3771 54.9799 40.3771 56.3549C40.3771 57.6049 42.2301 57.6049 42.2301 56.3549C42.2301 55.1049 41.983 53.4799 41.4889 52.2299C42.6007 51.8549 43.3418 51.1049 43.5889 49.7299C44.7007 50.4799 45.936 50.9799 47.1713 51.2299C47.6654 51.3549 48.1595 50.9799 48.283 50.4799C48.4065 49.9799 48.036 49.4799 47.5418 49.3549C43.5889 48.6049 41.1183 44.9799 41.2418 41.1049C41.983 40.6049 42.2301 40.1049 42.6007 39.4799C44.2065 39.4799 44.2065 40.6049 45.4418 41.7299C47.1712 43.2299 50.0124 42.9799 51.2477 43.9799C52.3595 44.8549 52.3595 46.7299 52.1124 47.9799C51.4948 49.1049 50.5065 50.7299 49.8889 52.3549ZM40.3771 34.2299C40.7477 35.7299 41.3654 38.1049 40.2536 38.9799C40.1301 38.8549 40.1301 38.8549 40.0065 38.7299C38.6477 37.8549 37.9065 34.1049 40.3771 34.2299ZM41.736 47.7299C41.736 48.3549 41.736 49.1049 41.3654 49.6049C41.1183 49.9799 40.6242 50.1049 40.2536 49.9799C39.7595 49.7299 39.7595 49.3549 39.1418 48.3549C39.0183 48.1049 38.6477 47.6049 38.6477 47.4799C38.2771 45.6049 37.2889 43.1049 37.2889 41.1049C38.1536 41.3549 38.6477 41.3549 39.2654 41.3549C39.3889 43.3549 40.1301 45.8549 41.736 47.7299Z" fill="white"></path><path d="M44.9476 19.9801L43.0947 25.4801C42.7241 26.6051 44.4535 27.2301 44.8241 26.1051L46.6771 20.6051C47.0476 19.4801 45.3182 18.8551 44.9476 19.9801Z" fill="white"></path><path d="M49.0244 28.73L54.2127 22.605C54.9538 21.605 53.595 20.48 52.8538 21.355L47.6656 27.48C46.8009 28.48 48.1597 29.73 49.0244 28.73Z" fill="white"></path><path d="M57.9181 28.6049L51.2476 32.2299C50.1358 32.8549 51.0005 34.4799 52.1123 33.8549L58.7829 30.2299C59.8946 29.7299 59.0299 27.9799 57.9181 28.6049Z" fill="white"></path></svg> */}
        <h1 className="text-6xl font-bold text-center text-neutral-800">
          Own & hold it
          <br /> untill you sell it
        </h1>
      </div>
      <div>
        <div className="relative flex flex-col items-center space-y-8 py-20">
          {/* Main Image */}
          <div className="relative w-[500px] h-[500px]">
            <img src={rect} className="rounded-4xl w-full h-full" />

            {/* Floating Feature Tags */}
            {features.map((feature, i) => (
              <div
                key={i}
                ref={(el) => {cardRefs.current[i] = el}}
                className="absolute whitespace-nowrap bg-[#f9f9f9] px-6 py-2 rounded-full hover:shadow-md font-medium text-neutral-700 text-sm flex items-center gap-2"
                style={{
                  top: feature.y,
                  left: feature.x,
                  transform: "translate(-50%, 200%)",
                }}
              >
                <span className="text-indigo-500 text-lg">✦</span>
                {feature.text}
              </div>
            ))}
          </div>
        </div>
      </div>
      <div className=" text-neutral-700 leading-relaxed font-vietnam font-light">
        <TextReveal
          text="We simplify ownership – unlock top deals 
without the burden of managing tenants – 
Breaking barriers to asset ownerships"
          className="text-center"
        />
      </div>
      <div className="py-40">
        <HowItWorks />
      </div>
      <div className="">
        <h1 className="text-6xl font-phudu font-bold text-center text-neutral-800">MULTI-ASSETS, ON THE WAY</h1>
      </div>
      <CardStack/>
    </div>
  );
};

export default Hero3;
